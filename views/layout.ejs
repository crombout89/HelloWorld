<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width,
  initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title><%= title %> | Hello World App</title>
  <link rel="stylesheet" href="/styles.css">
  <link rel='stylesheet' href='/css/effects.css' />
  <link rel="stylesheet" href="https://use.typekit.net/yrl0zql.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
   <!-- custom view-specific styles like /css/profile.css will get inserted here -->
</head>
<body>

  <!-- You can add a navbar here -->
  <%- include('partials/navbar') %>

  <!-- Main content -->
  <%- body %>

  <!-- Toast container -->
  <div id="toast-container" style="position: fixed; bottom: 1rem; right: 1rem; z-index: 9999;"></div>

  <!-- Global Modal Root -->
  <div id="global-modal" class="modal hidden">
    <div class="modal-content">
      <span class="close-modal">&times;</span>
      <div id="modal-body">
        <!-- Modal content gets injected here -->
      </div>
    </div>
  </div>

<!-- Include modal logic -->
<script src="/js/modal.js"></script>

  <!-- Preferred Language logic -->
  <% if (typeof targetLanguage !== 'undefined') { %>
    <script>
      window.targetLanguage = "<%= targetLanguage %>";
    </script>
  <% } %>

  <!-- Socket + modular client-side logic -->
  <script>
    const notifications = <%- JSON.stringify(locals.notifications || []) %>;
    window.notifications = notifications;
    window.userId = "<%= userId || '' %>";
  </script>
  <script src="/socket.io/socket.io.js"></script>
  <script src="/js/socket.js"></script>
  <script src="/js/notifications.js"></script>
  <script src="/js/messages.js"></script>
  <script src="/js/modal.js"></script>
</body>
</html>