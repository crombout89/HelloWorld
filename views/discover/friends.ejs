<h2>🔍 Discover New Friends</h2>

<% if (matches.length === 0) { %>
<p>No matches found yet. Try updating your profile with more interests and preferences!</p>
<% } else { %>
<div class="friend-suggestions">
  <% matches.forEach(user => { %>
  <div class="friend-card">
    <div class="friend-header">
      <img src="<%= user.profile?.profilePicture || '/default-profile.png' %>" alt="Avatar" class="avatar" />
      <strong>@<%= user.username %></strong>
    </div>

    <div class="friend-body">
      <% if (user.profile?.language) { %>
      <p><strong>Language:</strong> <%= languageMap[user.profile.language] || user.profile.language %></p>
      <% } %>

      <% if (user.profile?.interests?.length) { %>
      <p><strong>Interests:</strong> <%= user.profile.interests.join(', ') %></p>
      <% } %>

      <% if (user.profile?.tags?.length) { %>
      <p><strong>Tags:</strong> <%= user.profile.tags.join(', ') %></p>
      <% } %>

      <% if (user.profile?.location?.address?.city) { %>
      <p><strong>Location:</strong> <%= user.profile.location.address.city %>, <%= user.profile.location.address.country %></p>
      <% } %>

      <p><strong>Match Score:</strong> <%= user.score %>
        <%= "❤️".repeat(Math.max(1, Math.floor(user.score / 3))) %>
      </p>
    </div>

    <a href="/u/<%= user.username %>" class="btn">👤 View Profile</a>
  </div>
  <% }) %>
</div>
<% } %>