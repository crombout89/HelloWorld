<link rel='stylesheet' href='/css/communities.css' />

<h1>🌐 Explore Communities</h1>

<% if (communities.length === 0) { %>
<p>No communities found.</p>
<% } else { %>
<div class="community-directory">
  <% communities.forEach(c => { %>
  <div class="community-card">
    <% if (c.coverImage) { %>
    <img src="<%= c.coverImage %>" alt="<%= c.name %> cover" />
    <% } %>
    <h2><%= c.name %></h2>
    <p><%= c.description %></p>
    <% if (c.tags?.length) { %>
    <div class="community-tags">
      <strong>Tags:</strong>
      <% c.tags.forEach(tag => { %>
      <span><%= tag.name %></span>
      <% }) %>
    </div>
    <% } %>
    <p><strong>Members:</strong> <%= c.members.length %></p>
    <a href="/communities/<%= c._id %>/public" class="btn">🔍 View Community</a>
  </div>
  <% }) %>
</div>
<% } %>

<a href="/dashboard" class="btn">← Back to Dashboard</a>