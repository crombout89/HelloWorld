<link rel="stylesheet" href="/css/profile.css">

<div class="profile-container page-title">
  <h1><%= user.username %>'s Public Profile</h1>

  <div class="profile-picture-container">
	<img 
		src="<%= user.profilePicture %>" 
		alt="Profile Picture" 
		class="public-profile-avatar"
	/>
  </div>

  <p><strong>Bio:</strong> <%= user.bio || 'No bio provided.' %></p>

  <% if (user.interests && user.interests.length > 0) { %>
    <p><strong>Interests:</strong> <%= user.interests.join(', ') %></p>
  <% } else { %>
    <p><strong>Interests:</strong> None listed.</p>
  <% } %>
</div>

  <% if (!isOwner) { %>
    <div class="profile-actions">
      <% if (friendStatus === "none") { %>
        <form action="/friends/request/<%= user._id %>" method="POST">
          <button type="submit" class="button">Add Friend</button>
        </form>
      <% } else if (friendStatus === "pending") { %>
        <button class="button disabled">Request Sent</button>
      <% } else if (friendStatus === "friends") { %>
        <button class="button disabled">Friends</button>
      <% } %>

      <a href="/messages/<%= user._id %>" class="button">Send Message</a>
    </div>
  <% } else { %>
    <p><em>This is your own profile.</em></p>
  <% } %>
</div>