<!-- views/events/edit.ejs -->
<h2>Edit Event</h2>
<form action="/events/<%= event._id %>/edit" method="POST">
  <div>
    <label>Title:</label>
    <input type="text" name="title" value="<%= event.title %>" required />
  </div>

  <div>
    <label>Description:</label>
    <textarea name="description"><%= event.description %></textarea>
  </div>

  <div>
    <label>Start Time:</label>
    <input type="datetime-local" name="startTime" value="<%= event.startTime.toISOString().slice(0,16) %>" required />
  </div>

  <div>
    <label>End Time:</label>
    <input type="datetime-local" name="endTime" value="<%= event.endTime.toISOString().slice(0,16) %>" required />
  </div>

  <div>
    <label>Location Name:</label>
    <input type="text" name="location[name]" value="<%= event.location?.name || '' %>" />
  </div>
  <div>
    <label>Location Address:</label>
    <input type="text" name="location[address]" value="<%= event.location?.address || '' %>" />
  </div>

  <div>
    <label>Visibility:</label>
    <select name="visibility">
      <option value="public" <%= event.visibility === 'public' ? 'selected' : '' %>>Public</option>
      <option value="friends" <%= event.visibility === 'friends' ? 'selected' : '' %>>Friends Only</option>
      <option value="invite" <%= event.visibility === 'invite' ? 'selected' : '' %>>Invite Only</option>
    </select>
  </div>

  <button type="submit">Save Changes</button>
</form>
